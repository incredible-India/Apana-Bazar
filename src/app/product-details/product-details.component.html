
<div class="bg-gray-100 min-h-screen p-8 font-inter">
  <div class="container mx-auto">
    <!-- Loading State -->
    <div *ngIf="isLoading" class="flex justify-center items-center h-64">
      <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500"></div>
    </div>

    <!-- Error State -->
    <div *ngIf="!isLoading && errorMessage" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
      <strong class="font-bold">Error!</strong>
      <span class="block sm:inline"> {{ errorMessage }}</span>
    </div>

    <!-- Product Details -->
    <div *ngIf="!isLoading && !errorMessage && product" class="bg-white rounded-xl shadow-lg p-8 md:flex">
      <!-- Image Section -->
      <div class="md:w-1/2 flex items-center justify-center mb-6 md:mb-0">
        <img [src]="product.thumbnail" [alt]="product.title" class="rounded-xl object-contain h-96 w-full">
      </div>

      <!-- Details Section -->
      <div class="md:w-1/2 md:pl-8">
        <h1 class="text-4xl font-bold text-gray-800 mb-2">{{ product.title }}</h1>
        <p class="text-sm text-gray-500 mb-4">{{ product.category | titlecase }} by <span class="font-medium text-gray-600">{{ product.brand }}</span></p>

        <p class="text-lg text-gray-700 mb-6">{{ product.description }}</p>

        <div class="flex items-baseline mb-4">
          <span class="text-4xl font-bold text-blue-600 mr-2">${{ product.price | number:'1.2-2' }}</span>
          <span *ngIf="product.discountPercentage > 0" class="text-lg text-red-500 line-through">${{ (product.price / (1 - product.discountPercentage / 100)) | number:'1.2-2' }}</span>
        </div>

        <div class="flex items-center mb-6">
          <span class="text-yellow-400 text-xl mr-1">&#9733;</span>
          <span class="text-gray-600 font-medium text-xl">{{ product.rating | number:'1.1-1' }}</span>
          <span class="text-sm text-gray-400 ml-2">({{ product.reviews.length }} reviews)</span>
        </div>

        <div class="space-y-2 mb-6">
          <p class="text-gray-700"><span class="font-semibold">Stock:</span> {{ product.stock }} ({{ product.availabilityStatus }})</p>
          <p class="text-gray-700"><span class="font-semibold">Weight:</span> {{ product.weight }} kg</p>
          <p class="text-gray-700"><span class="font-semibold">Shipping:</span> {{ product.shippingInformation }}</p>
          <p class="text-gray-700"><span class="font-semibold">Warranty:</span> {{ product.warrantyInformation }}</p>
        </div>

        <button class="w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-bold hover:bg-blue-700 transition duration-300">
          Add to Cart
        </button>

        <h2 class="text-2xl font-bold text-gray-800 mt-8 mb-4">Customer Reviews</h2>
        <div *ngIf="product.reviews.length > 0" class="space-y-4">
          <div *ngFor="let review of product.reviews" class="bg-gray-50 p-4 rounded-lg border border-gray-200">
            <div class="flex items-center justify-between mb-2">
              <span class="font-semibold text-gray-800">{{ review.reviewerName }}</span>
              <div class="flex items-center text-yellow-400">
                <span *ngFor="let star of [].constructor(review.rating)">&#9733;</span>
              </div>
            </div>
            <p class="text-gray-700 italic">"{{ review.comment }}"</p>
          </div>
        </div>
        <div *ngIf="product.reviews.length === 0" class="text-gray-500 italic">
          No reviews available.
        </div>
      </div>
    </div>
  </div>
</div>